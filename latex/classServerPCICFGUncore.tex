\section{Server\+P\+C\+I\+C\+F\+G\+Uncore Class Reference}
\label{classServerPCICFGUncore}\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}


Object to access uncore counters in a socket/processor with microarchitecture codename Sandy\+Bridge-\/\+E\+P (Jaketown) or Ivytown-\/\+E\+P or Ivytown-\/\+E\+X.  




{\ttfamily \#include $<$cpucounters.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Server\+P\+C\+I\+C\+F\+G\+Uncore} (uint32 socket\+\_\+, {\bf P\+C\+M} $\ast$pcm)
\begin{DoxyCompactList}\small\item\em Initialize access data structures. \end{DoxyCompactList}\item 
void {\bf program} ()\label{classServerPCICFGUncore_acd6e859dd5eaaadf97d2c59ae70ac4a7}

\begin{DoxyCompactList}\small\item\em Program performance counters (disables programming power counters) \end{DoxyCompactList}\item 
uint64 {\bf get\+Imc\+Reads} ()\label{classServerPCICFGUncore_a214de12b52f2d5a7c9c33701dfc8eb85}

\begin{DoxyCompactList}\small\item\em Get the number of integrated controller reads (in cache lines) \end{DoxyCompactList}\item 
uint64 {\bf get\+Imc\+Writes} ()\label{classServerPCICFGUncore_a089f11fc46ab836884cc31b5b4ac08e3}

\begin{DoxyCompactList}\small\item\em Get the number of integrated controller writes (in cache lines) \end{DoxyCompactList}\item 
uint64 {\bf get\+Incoming\+Data\+Flits} (uint32 port)
\begin{DoxyCompactList}\small\item\em Get the number of incoming data flits to the socket through a port. \end{DoxyCompactList}\item 
uint64 {\bf get\+Outgoing\+Data\+Non\+Data\+Flits} (uint32 port)
\begin{DoxyCompactList}\small\item\em Get the number of outgoing data and non-\/data flits from the socket through a port. \end{DoxyCompactList}\item 
void {\bf program\+\_\+power\+\_\+metrics} (int mc\+\_\+profile)
\begin{DoxyCompactList}\small\item\em Program power counters (disables programming performance counters) \end{DoxyCompactList}\item 
uint64 {\bf get\+Q\+P\+I\+Clocks} (uint32 port)
\begin{DoxyCompactList}\small\item\em Get number of Q\+P\+I L\+L clocks on a Q\+P\+I port. \end{DoxyCompactList}\item 
uint64 {\bf get\+Q\+P\+I\+L0p\+Tx\+Cycles} (uint32 port)
\begin{DoxyCompactList}\small\item\em Get number cycles on a Q\+P\+I port when the link was in a power saving half-\/lane mode. \end{DoxyCompactList}\item 
uint64 {\bf get\+Q\+P\+I\+L1\+Cycles} (uint32 port)
\begin{DoxyCompactList}\small\item\em Get number cycles on a Q\+P\+I port when the link was in a power saving shutdown mode. \end{DoxyCompactList}\item 
uint64 {\bf get\+D\+R\+A\+M\+Clocks} (uint32 channel)
\begin{DoxyCompactList}\small\item\em Get number D\+R\+A\+M channel cycles. \end{DoxyCompactList}\item 
uint64 {\bf get\+M\+C\+Counter} (uint32 channel, uint32 counter)
\begin{DoxyCompactList}\small\item\em Direct read of memory controller P\+M\+U counter (counter meaning depends on the programming\+: power/performance/etc) \end{DoxyCompactList}\item 
uint64 {\bf get\+Q\+P\+I\+L\+L\+Counter} (uint32 port, uint32 counter)
\begin{DoxyCompactList}\small\item\em Direct read of Q\+P\+I L\+L P\+M\+U counter (counter meaning depends on the programming\+: power/performance/etc) \end{DoxyCompactList}\item 
void {\bf freeze\+Counters} ()\label{classServerPCICFGUncore_ad4bda64cc17432d44ee8e380a735b795}

\begin{DoxyCompactList}\small\item\em Freezes event counting. \end{DoxyCompactList}\item 
void {\bf unfreeze\+Counters} ()\label{classServerPCICFGUncore_a379962b379f637f3b752f7fb4666c7e7}

\begin{DoxyCompactList}\small\item\em Unfreezes event counting. \end{DoxyCompactList}\item 
uint64 {\bf compute\+Q\+P\+I\+Speed} (const uint32 ref\+\_\+core, const int cpumodel)\label{classServerPCICFGUncore_a42a0e1343ab38371279bf9def8123419}

\begin{DoxyCompactList}\small\item\em Measures/computes the maximum theoretical Q\+P\+I link bandwidth speed in G\+Byte/seconds. \end{DoxyCompactList}\item 
void {\bf enable\+J\+K\+T\+Workaround} (bool enable)\label{classServerPCICFGUncore_a91352764d2ab70889388f61d48852694}

\begin{DoxyCompactList}\small\item\em Enable correct counting of various L\+L\+C events (with memory access perf penalty) \end{DoxyCompactList}\item 
uint32 {\bf get\+Num\+Q\+P\+I\+Ports} () const \label{classServerPCICFGUncore_ac8dc5ffa64ffebcd21b1d5882ab1fe16}

\begin{DoxyCompactList}\small\item\em Returns the number of detected Q\+P\+I ports. \end{DoxyCompactList}\item 
uint64 {\bf get\+Q\+P\+I\+Link\+Speed} (const uint32 link\+Nr) const \label{classServerPCICFGUncore_af5c42a5eb97b97f17a3cb0010bd04642}

\begin{DoxyCompactList}\small\item\em Returns the speed of the Q\+P\+I link. \end{DoxyCompactList}\item 
void {\bf report\+Q\+P\+I\+Speed} () const \label{classServerPCICFGUncore_a6746ae55dfb998b5e6f5e50cbe6fb957}

\begin{DoxyCompactList}\small\item\em Print Q\+P\+I Speeds. \end{DoxyCompactList}\item 
uint32 {\bf get\+Num\+M\+C} () const \label{classServerPCICFGUncore_acf1af9c95ce0d0d0cd8940a38866a639}

\begin{DoxyCompactList}\small\item\em Returns the number of detected integrated memory controllers. \end{DoxyCompactList}\item 
uint32 {\bf get\+Num\+M\+C\+Channels} () const \label{classServerPCICFGUncore_a52ceae2a7ca82345dbf0b9333ca12038}

\begin{DoxyCompactList}\small\item\em Returns the total number of detected memory channels on all integrated memory controllers. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Object to access uncore counters in a socket/processor with microarchitecture codename Sandy\+Bridge-\/\+E\+P (Jaketown) or Ivytown-\/\+E\+P or Ivytown-\/\+E\+X. 

\subsection{Constructor \& Destructor Documentation}
\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{Server\+P\+C\+I\+C\+F\+G\+Uncore}]{\setlength{\rightskip}{0pt plus 5cm}Server\+P\+C\+I\+C\+F\+G\+Uncore\+::\+Server\+P\+C\+I\+C\+F\+G\+Uncore (
\begin{DoxyParamCaption}
\item[{uint32}]{socket\+\_\+, }
\item[{{\bf P\+C\+M} $\ast$}]{pcm}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_a1920ef92c182c68ad433d6b2f9ae9c3d}


Initialize access data structures. 


\begin{DoxyParams}{Parameters}
{\em socket\+\_\+} & socket id \\
\hline
{\em pcm} & pointer to \doxyref{P\+C\+M}{p.}{classPCM} instance \\
\hline
\end{DoxyParams}


References P\+C\+M\+::get\+C\+P\+U\+Model(), and P\+C\+M\+::get\+Num\+Sockets().



\subsection{Member Function Documentation}
\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+D\+R\+A\+M\+Clocks@{get\+D\+R\+A\+M\+Clocks}}
\index{get\+D\+R\+A\+M\+Clocks@{get\+D\+R\+A\+M\+Clocks}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+D\+R\+A\+M\+Clocks}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+D\+R\+A\+M\+Clocks (
\begin{DoxyParamCaption}
\item[{uint32}]{channel}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_a3b218ad26a3c6411754ed177427b2a80}


Get number D\+R\+A\+M channel cycles. 


\begin{DoxyParams}{Parameters}
{\em channel} & channel number \\
\hline
\end{DoxyParams}


Referenced by P\+C\+M\+::get\+Server\+Uncore\+Power\+State().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+Incoming\+Data\+Flits@{get\+Incoming\+Data\+Flits}}
\index{get\+Incoming\+Data\+Flits@{get\+Incoming\+Data\+Flits}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+Incoming\+Data\+Flits}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+Incoming\+Data\+Flits (
\begin{DoxyParamCaption}
\item[{uint32}]{port}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_abaeb0a56fa35ecbd0c092b733a1f923b}


Get the number of incoming data flits to the socket through a port. 


\begin{DoxyParams}{Parameters}
{\em port} & Q\+P\+I port id \\
\hline
\end{DoxyParams}
\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+M\+C\+Counter@{get\+M\+C\+Counter}}
\index{get\+M\+C\+Counter@{get\+M\+C\+Counter}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+M\+C\+Counter}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+M\+C\+Counter (
\begin{DoxyParamCaption}
\item[{uint32}]{channel, }
\item[{uint32}]{counter}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_ad66687e98d1b74c145b79fedefc07d15}


Direct read of memory controller P\+M\+U counter (counter meaning depends on the programming\+: power/performance/etc) 


\begin{DoxyParams}{Parameters}
{\em channel} & channel number \\
\hline
{\em counter} & counter number \\
\hline
\end{DoxyParams}


Referenced by P\+C\+M\+::get\+Server\+Uncore\+Power\+State().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+Outgoing\+Data\+Non\+Data\+Flits@{get\+Outgoing\+Data\+Non\+Data\+Flits}}
\index{get\+Outgoing\+Data\+Non\+Data\+Flits@{get\+Outgoing\+Data\+Non\+Data\+Flits}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+Outgoing\+Data\+Non\+Data\+Flits}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+Outgoing\+Data\+Non\+Data\+Flits (
\begin{DoxyParamCaption}
\item[{uint32}]{port}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_a0c49b159e5bdf999d3c14cfcba51136b}


Get the number of outgoing data and non-\/data flits from the socket through a port. 


\begin{DoxyParams}{Parameters}
{\em port} & Q\+P\+I port id \\
\hline
\end{DoxyParams}


References get\+Q\+P\+I\+L\+L\+Counter().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+Q\+P\+I\+Clocks@{get\+Q\+P\+I\+Clocks}}
\index{get\+Q\+P\+I\+Clocks@{get\+Q\+P\+I\+Clocks}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+Q\+P\+I\+Clocks}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+Q\+P\+I\+Clocks (
\begin{DoxyParamCaption}
\item[{uint32}]{port}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_ae5bc4e8e1003ed74fdd3c641e6ac78a5}


Get number of Q\+P\+I L\+L clocks on a Q\+P\+I port. 


\begin{DoxyParams}{Parameters}
{\em port} & Q\+P\+I port number \\
\hline
\end{DoxyParams}


Referenced by compute\+Q\+P\+I\+Speed(), and P\+C\+M\+::get\+Server\+Uncore\+Power\+State().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+Q\+P\+I\+L0p\+Tx\+Cycles@{get\+Q\+P\+I\+L0p\+Tx\+Cycles}}
\index{get\+Q\+P\+I\+L0p\+Tx\+Cycles@{get\+Q\+P\+I\+L0p\+Tx\+Cycles}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+Q\+P\+I\+L0p\+Tx\+Cycles}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+Q\+P\+I\+L0p\+Tx\+Cycles (
\begin{DoxyParamCaption}
\item[{uint32}]{port}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_a7aaff7ae03c8189de550215cef3b39f7}


Get number cycles on a Q\+P\+I port when the link was in a power saving half-\/lane mode. 


\begin{DoxyParams}{Parameters}
{\em port} & Q\+P\+I port number \\
\hline
\end{DoxyParams}


Referenced by P\+C\+M\+::get\+Server\+Uncore\+Power\+State().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+Q\+P\+I\+L1\+Cycles@{get\+Q\+P\+I\+L1\+Cycles}}
\index{get\+Q\+P\+I\+L1\+Cycles@{get\+Q\+P\+I\+L1\+Cycles}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+Q\+P\+I\+L1\+Cycles}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+Q\+P\+I\+L1\+Cycles (
\begin{DoxyParamCaption}
\item[{uint32}]{port}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_aa0ac63963af6105dd066f09beb923d17}


Get number cycles on a Q\+P\+I port when the link was in a power saving shutdown mode. 


\begin{DoxyParams}{Parameters}
{\em port} & Q\+P\+I port number \\
\hline
\end{DoxyParams}


Referenced by P\+C\+M\+::get\+Server\+Uncore\+Power\+State().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!get\+Q\+P\+I\+L\+L\+Counter@{get\+Q\+P\+I\+L\+L\+Counter}}
\index{get\+Q\+P\+I\+L\+L\+Counter@{get\+Q\+P\+I\+L\+L\+Counter}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{get\+Q\+P\+I\+L\+L\+Counter}]{\setlength{\rightskip}{0pt plus 5cm}uint64 Server\+P\+C\+I\+C\+F\+G\+Uncore\+::get\+Q\+P\+I\+L\+L\+Counter (
\begin{DoxyParamCaption}
\item[{uint32}]{port, }
\item[{uint32}]{counter}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_abcd9990a39fb245bb552e6cae4922305}


Direct read of Q\+P\+I L\+L P\+M\+U counter (counter meaning depends on the programming\+: power/performance/etc) 


\begin{DoxyParams}{Parameters}
{\em port} & port number \\
\hline
{\em counter} & counter number \\
\hline
\end{DoxyParams}


Referenced by get\+Outgoing\+Data\+Non\+Data\+Flits().

\index{Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}!program\+\_\+power\+\_\+metrics@{program\+\_\+power\+\_\+metrics}}
\index{program\+\_\+power\+\_\+metrics@{program\+\_\+power\+\_\+metrics}!Server\+P\+C\+I\+C\+F\+G\+Uncore@{Server\+P\+C\+I\+C\+F\+G\+Uncore}}
\subsubsection[{program\+\_\+power\+\_\+metrics}]{\setlength{\rightskip}{0pt plus 5cm}void Server\+P\+C\+I\+C\+F\+G\+Uncore\+::program\+\_\+power\+\_\+metrics (
\begin{DoxyParamCaption}
\item[{int}]{mc\+\_\+profile}
\end{DoxyParamCaption}
)}\label{classServerPCICFGUncore_af53af91d9172cd124e455e500d6c5622}


Program power counters (disables programming performance counters) 


\begin{DoxyParams}{Parameters}
{\em mc\+\_\+profile} & memory controller measurement profile. See description of profiles in pcm-\/power.\+cpp \\
\hline
\end{DoxyParams}


Referenced by P\+C\+M\+::program\+Server\+Uncore\+Power\+Metrics().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
{\bf cpucounters.\+h}\item 
{\bf cpucounters.\+cpp}\end{DoxyCompactItemize}
